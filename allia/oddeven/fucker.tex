\documentclass{article}
\usepackage{ listings}
\usepackage{xcolor}      %代码着色宏包
\usepackage{CJK} 
\lstset{
    basicstyle=\tt,
    %行号
    numbers=left,
    rulesepcolor=\color{red!20!green!20!blue!20},
    escapeinside=``,
    xleftmargin=2em,xrightmargin=2em, aboveskip=1em,
    %背景框
    framexleftmargin=1.5mm,
    frame=shadowbox,
    %背景色
    % backgroundcolor=\color[RGB]{245,245,244},
    %样式
    %keywordstyle=\color{blue}\bfseries,
    identifierstyle=\bf,
    %numberstyle=\color[RGB]{0,192,192},
    %commentstyle=\it\color[RGB]{96,96,96},
    %stringstyle=\rmfamily\slshape\color[RGB]{128,0,0},
    %显示空格
    showstringspaces=false
} 
\begin{document} 
\begin{lstlisting}[language=C],
void sort_kernel(float*objective,
	     int**chromsome,
	     int round)
{
int id=2*threadid;
if(round/2==0)
  if(objective[id]<objective[id+1])
  {
	swap(objective[id],objective[id+1]);
	swap(chromsome[id],chromsome[id+1]);
  }
else
  if(objective[id-1]>objective[id])
  {
	swap(objective[id-1],objective[id]);
	swap(chromsome[id-1],chromsome[id]);
  }
};
void sort(float*weight,
	     int**chromsome,
	     int round,
		int POP
		)
{
for(int i=0;i<POP/2;i++)
    sort_kernel(objective,chromsome,i);
}
\end{lstlisting}
\end{document}